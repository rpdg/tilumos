define("index.ts",function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("ts/util/store.ts"),n=e("ts/opg.ts");r.store.set("apiServer",window.CONFIG.apiServer),n.default.api({login:"Bll.Authen/SignIn"});{var i=$("#loginForm");$("#btnLogin").click(function(){var e=i.fieldsToJson({name:{name:"用户名",require:!0},password:{name:"密码",require:!0}});e&&n.default.api.login(e,function(t){if(1===t){var i="./page/main.aspx",a=r.store.get("user");if(a&&a===e.name){var s=n.default.request.ReturnUrl;s&&(i+=s)}r.store.set("user",e.name),$("#cycle").attr("stroke","#ffffff").addClass("cycle"),setTimeout(function(){window.location.replace(i)},1300)}else n.default.err("用户名或密码错误")})})}});