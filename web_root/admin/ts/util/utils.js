define("ts/util/utils.ts",function(e,r){"use strict";function t(e,r){return!!e&&e.hasOwnProperty(r)}function n(e,r,a,o){var u,i,f,s,d,l=/^(.+?)(\[.*\])$/;if(i=r.match(l)){s=i[1],f=i[2].replace(/^\[|\]$/g,"").split("][");for(var p=0;d=f[p];p++)u=!d||d.match(/^\d+$/),!s&&c.Array(e)&&(s=e.length),t(e,s)||(e[s]=u?[]:{}),e=e[s],s=d;!s&&u&&(s=e.length.toString()),n(e,s,a,o)}else e[r]=o&&"true"===a?!0:o&&"false"===a?!1:o&&c.Number(a)?parseFloat(a):a}function a(e,r){var t;return c.Array(r)||c.Object(r)?(t=[],u(r,function(r,n){e&&(r=e+"["+r+"]"),t.push(a(r,n))}),t.join("&")):e?o(e)+"="+(c.Date(r)?r.getTime():o(r)):""}function o(e){return e||e===!1||0===e?encodeURIComponent(e).replace(/%20/g,"+").replace(/%5B/g,"[").replace(/%5D/g,"]"):""}function u(e,r){var n;for(n in e)if(t(e,n)&&r.call(e,n,e[n],e)===!1)break}Object.defineProperty(r,"__esModule",{value:!0});var i=function(e,r){var t,a={};e=e&&e.toString?e.toString():"";for(var o,u=e.replace(/^.*?\?/,"").split("&"),i=0;o=u[i];i++)t=o.split("="),2===t.length&&n(a,t[0],decodeURIComponent(t[1]),r);return a}(window.location.search,!1);r.request=i;var c={Array:$.noop,RegExp:$.noop,Date:$.noop,Number:$.noop,String:$.noop,Object:$.noop,HTMLDocument:$.noop,UsingIE:$.detectIE()};r.is=c;for(var f=["Array","RegExp","Date","Number","String","Object","HTMLDocument"],s=0,d=void 0;d=f[s++];)c[d]=function(e){return function(r){return Object.prototype.toString.call(r)=="[object "+e+"]"}}(d);var l={addSearch:function(e){for(var r=1,t=arguments.length;t>r;r++){var n=arguments[r];if(void 0!==n&&null!==n){(0===n.indexOf("?")||0===n.indexOf("&"))&&(n=n.substr(1));var a=r>1?"&":e.indexOf("?")>-1?"&":"?";e+=a+n}}return e},setParam:function(e,r,t){return e.addSearch(e,a(t,r))},getParam:function(e,r){r=r.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+r+"=([^&#]*)"),n=t.exec(e.substr(e.indexOf("?")));return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}};r.url=l;var p={_str_pad_repeater:function(e,r){for(var t="";t.length<r;)t+=e;return t=t.substr(0,r)},pad:function(e,r,t,n){void 0===t&&(t="0"),void 0===n&&(n="STR_PAD_RIGHT");var a,o="";return e+="",t=void 0!==t?t:" ","STR_PAD_LEFT"!==n&&"STR_PAD_RIGHT"!==n&&"STR_PAD_BOTH"!==n&&(n="STR_PAD_RIGHT"),(a=r-e.length)>0&&("STR_PAD_LEFT"===n?e=p._str_pad_repeater(t,a)+e:"STR_PAD_RIGHT"===n?e+=p._str_pad_repeater(t,a):"STR_PAD_BOTH"===n&&(o=p._str_pad_repeater(t,Math.ceil(a/2)),e=o+e+o,e=e.substr(0,r))),e},padLeft:function(e,r,t){return void 0===t&&(t="0"),p.pad(e,r,t,"STR_PAD_LEFT")},padRight:function(e,r,t){return void 0===t&&(t="0"),p.pad(e,r,t||0,"STR_PAD_RIGHT")}};r.string=p;var g={addSeconds:function(e,r){return new Date(e.getTime()+1e3*r)},addDays:function(e,r){return new Date(e.getTime()+24*r*3600*1e3)},daySpan:function(e,r){return Math.round((r.valueOf()-e.valueOf())/864e5)},weekSpan:function(e,r){var t=g.daySpan(e,r);return Math.ceil((t+e.getDay())/7)}};r.dateTime=g;var h={hashKeysToArray:function(e){if(Object.keys)return Object.keys(e);var r=[];for(r[r.length]in e);return r},hashToArray:function(e,r){var t=[];for(var n in e){var a=e[n];r&&(a=r(a,n)),t.push(a)}return t},arrayToHash:function(e,r){for(var t={},n=0,a=e.length;a>n;n++){var o=e[n];o[r]in t||(t[o[r]]=o)}return t},stringToDate:function(e,r){var t=r||"yyyy-MM-dd HH:mm:ss",n=e.match(/(\d+)/g),a=0,o={};return t.replace(/(yyyy|dd|MM|HH|hh|mm|ss)/g,function(e){o[e]=a++}),!o.HH&&o.hh&&(o.HH=o.hh),new Date(n[o.yyyy]||0,(n[o.MM]||1)-1,n[o.dd]||0,n[o.HH]||0,n[o.mm]||0,n[o.ss]||0)},jsonToDate:function(e){return new Date(Date.parse(e))},secondsToTimecode:function(e){var r=Math.floor(e/3600),t=Math.floor((e-3600*r)/60),n=e-3600*r-60*t;n=Math.round(100*n)/100;var a=10>r?"0"+r:r;return a+=":"+(10>t?"0"+t:t),a+=":"+(10>n?"0"+n:n)}};r.convert=h;var v={date:function(e,r){void 0===r&&(r="yyyy-MM-dd");var t={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours()>12?e.getHours()-12:e.getHours(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(r)&&(r=r.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(r)&&(r=r.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return r},toFixed:function(e){var r=Math.round(100*+e);return v.toNFixed(.01*r)},toNFixed:function(e){var r=(+e).toString(),t=r.indexOf(".");return 0>t?r+".00":(r+="00",r.substr(0,t+3))},number:function(e,r,t,n){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var a=isFinite(+e)?+e:0,o=isFinite(+r)?Math.abs(r):0,u="undefined"==typeof n?",":n,i="undefined"==typeof t?".":t,c="",f=function(e,r){var t=Math.pow(10,r);return""+(Math.round(e*t)/t).toFixed(r)},c=(o?f(a,o):""+Math.round(a)).split(".");return c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,u)),(c[1]||"").length<o&&(c[1]=c[1]||"",c[1]+=new Array(o-c[1].length+1).join("0")),c.join(i)},fileSize:function(e){return e=e>=1073741824?v.number(e/1073741824,2,".",",")+" GB":e>=1048576?v.number(e/1048576,2,".","")+" MB":e>=1024?v.number(e/1024,0)+" KB":v.number(e,0)+" bytes"},json:function(){var e=/\${(\w+[.]*\w*)\}(?!})/g;return function(r,t){return r.replace(e,function(e,r){return t[r]})}}(),timeLength:function(e){return void 0===e&&(e=0),p.padLeft(Math.floor(e/3600),2)+":"+p.padLeft(Math.floor(e%3600/60),2)+":"+p.padLeft(Math.floor(e%60),2)}};r.format=v;var y=function(e){for(var r in e)r.indexOf(":")>-1&&delete e[r];return e};r.cleanValueObject=y;var m={unique:function(e){for(var r=[],t={},n=0,a=e.length;a>n;n++)t[e[n]]||(t[e[n]]=!0,r.push(e[n]));return r},combine:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var t=[],n=0,a=e.length;a>n;n++)for(var o=e[n],u=o.length,i=0;u>i;i+=5e3)t.push.apply(t,o.slice(i,i+5e3));return t},sort:function(e,r,t){if(t&&"function"==typeof t)return e.sort(t);var n=Array.prototype.slice.call(e,0);return arguments.length?n.sort(function(e,t){var n=e[r],a=isNaN(n),o=t[r],u=isNaN(o);return a&&u?""===n?-1:""===o?1:n===o?0:n>o?1:-1:a?-1:u?1:n===o?0:n>o?1:-1}):n.sort()}};r.array=m});