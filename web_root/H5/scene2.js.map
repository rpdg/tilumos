{
    "version": 3,
    "file": "scene2.js",
    "sourceRoot": "",
    "sources": [
        "/scene2.ts"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import BitmapData = createjs.BitmapData;\r\n\r\nclass Scene2 extends Scene {\r\n\r\n\tsourceBmd: BitmapData;\r\n\ttargetBmd: BitmapData;\r\n\r\n\tcastleContainer: Container;\r\n\r\n\tprivate distortLength: number = 0;\r\n\r\n\tconstructor(prevScene: Scene | App) {\r\n\t\tsuper(prevScene);\r\n\r\n\t\t//let ctx = (<HTMLCanvasElement> this.stage.canvas).getContext('2d');\r\n\r\n\t\tthis.castleContainer = new Container();\r\n\r\n\r\n\t\tthis.showCastleWhite();\r\n\r\n\r\n\t}\r\n\r\n\tshowCastleWhite() {\r\n\r\n\t\tUtil.addImage(this.castleContainer, <HTMLImageElement> this.app.preLoader.getResult('castle-white-bg'), 0);\r\n\r\n\t\tlet x = this.app.draftWidth /2 , y = this.app.draftHeight /2 -50 ;\r\n\t\tlet hole = Util.addImage(this.castleContainer, <HTMLImageElement> this.app.preLoader.getResult('castle-white-hole'), 1, {x, y , regX :x , regY :y});\r\n\r\n\r\n\t\tUtil.addImage(this.castleContainer, <HTMLImageElement> this.app.preLoader.getResult('castle-white'), 2, {x:100, y:200});\r\n\r\n\r\n\t\tthis.stage.addChild(this.castleContainer);\r\n\r\n\r\n\t\tTween.get(hole , {loop : true}).to({rotation: 360} , 3000);\r\n\r\n\r\n\t\tthis.castleContainer.on('click' , function () {\r\n\t\t\tTween.removeTweens(hole);\r\n\r\n\t\t\tthis.distort();\r\n\t\t} , this , true);\r\n\r\n\t}\r\n\r\n\tdistort() {\r\n\r\n\r\n\t\tthis.castleContainer.cache(0, 0, this.app.draftWidth, this.app.draftHeight);\r\n\r\n\t\tthis.sourceBmd = createjs.BitmapData.getBitmapData(this.castleContainer);\r\n\r\n\r\n\t\tthis.targetBmd = new createjs.BitmapData(null, this.app.draftWidth, this.app.draftHeight);\r\n\r\n\r\n\t\tthis.stage.removeChild(this.castleContainer);\r\n\t\tlet _bitmap02 = new createjs.Bitmap(this.targetBmd.canvas);\r\n\t\tthis.stage.addChild(_bitmap02);\r\n\r\n\t\tthis.distortLength = 1;\r\n\t}\r\n\r\n\r\n\ttick() {\r\n\t\tif (this.distortLength > 0) {\r\n\t\t\tif (this.distortLength < 300) {\r\n\r\n\t\t\t\tfor (let x = 0; x < this.app.draftWidth; x++) {\r\n\t\t\t\t\tlet y = this.distortLength * Math.sin(x / 18) + 200 - 162;\r\n\t\t\t\t\tthis.targetBmd.drawImage(this.sourceBmd, x, 0, 1, this.app.draftHeight, x, y, 1, this.app.draftHeight);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.distortLength += 5;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**/\r\n\r\n\r\n\t\tthis.stage.update();\r\n\t}\r\n\r\n}"
    ]
}