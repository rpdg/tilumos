{
    "version": 3,
    "file": "util.js",
    "sourceRoot": "",
    "sources": [
        "/page/star/util/util.ts"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import Stage = createjs.Stage;\r\nimport DisplayObject = createjs.DisplayObject;\r\n\r\n\r\ninterface BreathCfg {\r\n\tforward: boolean;\r\n\ty: number;\r\n\tmin: number;\r\n\tmax: number;\r\n\tremove: number;\r\n}\r\n\r\ninterface IBreathable {\r\n\ty: number;\r\n\tbreath ?: BreathCfg;\r\n}\r\n\r\n\r\nclass Util {\r\n\tstatic drawGrid(stage: Stage, gap?: number = 50, color?: string = '#fff') {\r\n\t\tlet rect = stage.getBounds();\r\n\t\tlet to = {\r\n\t\t\tx: rect.width,\r\n\t\t\ty: rect.height,\r\n\t\t};\r\n\r\n\t\tlet cur, i, freq;\r\n\r\n\t\tlet s = new Shape();\r\n\t\tlet g = s.graphics;\r\n\r\n\t\tg.clear();\r\n\t\tg.setStrokeStyle(1);\r\n\t\tg.beginStroke(color);\r\n\r\n\t\tfor (freq = to.x / gap - 1, i = 0; i < freq; i++) {\r\n\t\t\tcur = ~~( (i + 1) * gap);\r\n\t\t\tg.moveTo(cur, 0).lineTo(cur, to.y);\r\n\t\t}\r\n\r\n\t\tfor (freq = to.y / gap - 1, i = 0; i < freq; i++) {\r\n\t\t\tcur = ~~( (i + 1) * gap);\r\n\t\t\tg.moveTo(0, cur).lineTo(to.x, cur);\r\n\t\t}\r\n\r\n\r\n\t\tg.endStroke();\r\n\r\n\t\tstage.addChild(s);\r\n\t}\r\n\r\n\r\n\tprivate static breathObjs: IBreathable[] = [];\r\n\tprivate static breathing: boolean = false;\r\n\r\n\tstatic breath(obj: IBreathable, offset: number = 5) {\r\n\t\tif (Util.breathObjs.length === 0) {\r\n\t\t\tUtil.breathing = true;\r\n\t\t\tcreatejs.Ticker.addEventListener('tick', (e: createjs.TickerEvent) => Util.tickBreath(e));\r\n\t\t}\r\n\r\n\r\n\t\t//\r\n\t\tobj.breath = {\r\n\t\t\tforward: true,\r\n\t\t\ty: obj.y,\r\n\t\t\tmin: obj.y - offset,\r\n\t\t\tmax: obj.y + offset,\r\n\t\t\tremove: -1,\r\n\t\t};\r\n\r\n\t\tthis.breathObjs.push(obj);\r\n\t}\r\n\r\n\tstatic unBreath(obj: IBreathable): number {\r\n\t\tlet index = this.breathObjs.indexOf(obj);\r\n\t\tif (index > -1) {\r\n\t\t\tobj.breath.remove = index;\r\n\t\t}\r\n\r\n\t\treturn index;\r\n\t}\r\n\r\n\tstatic tickBreath(e: createjs.TickerEvent) {\r\n\r\n\r\n\t\tif (Util.breathing) {\r\n\r\n\t\t\tif (Util.breathObjs.length === 0) {\r\n\t\t\t\tUtil.breathing = false;\r\n\t\t\t\tcreatejs.Ticker.removeAllEventListeners('tick');\r\n\t\t\t}\r\n\r\n\t\t\tlet step = Math.random();\r\n\r\n\t\t\tfor (let i = 0, l = this.breathObjs.length; i < l; i++) {\r\n\t\t\t\tlet obj = this.breathObjs[i];\r\n\r\n\t\t\t\tif (obj.breath.remove === -1) {\r\n\t\t\t\t\tif (obj.breath.forward) {\r\n\t\t\t\t\t\tobj.y += step\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tobj.y -= step;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (obj.y < obj.breath.min || obj.y > obj.breath.max) {\r\n\t\t\t\t\t\tobj.breath.forward = !obj.breath.forward;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.breathObjs.splice(obj.breath.remove, 1);\r\n\t\t\t\t\tobj.y = obj.breath.y;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n}\r\n\r\n"
    ]
}