{
    "version": 3,
    "file": "util.js",
    "sourceRoot": "",
    "sources": [
        "/util/util.ts"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "import Stage = createjs.Stage;\r\nimport Bitmap = createjs.Bitmap;\r\nimport DisplayObject = createjs.DisplayObject;\r\nimport Container = createjs.Container;\r\n\r\n\r\ninterface BreathCfg {\r\n\tforward: boolean;\r\n\ty: number;\r\n\tmin: number;\r\n\tmax: number;\r\n\tremove: number;\r\n\trevertY: boolean;\r\n}\r\n\r\ninterface IBreathable {\r\n\ty: number;\r\n\tbreath ?: BreathCfg;\r\n}\r\n\r\n\r\nclass Util {\r\n\tstatic drawGrid(stage: Stage, gap?: number = 50, color?: string = '#fff') {\r\n\t\tlet rect = stage.getBounds();\r\n\t\tlet to = {\r\n\t\t\tx: rect.width,\r\n\t\t\ty: rect.height,\r\n\t\t};\r\n\r\n\t\tlet cur, i, freq;\r\n\r\n\t\tlet s = new Shape();\r\n\t\tlet g = s.graphics;\r\n\r\n\t\tg.clear();\r\n\t\tg.setStrokeStyle(1);\r\n\t\tg.beginStroke(color);\r\n\r\n\t\tfor (freq = to.x / gap - 1, i = 0; i < freq; i++) {\r\n\t\t\tcur = ~~( (i + 1) * gap);\r\n\t\t\tg.moveTo(cur, 0).lineTo(cur, to.y);\r\n\t\t}\r\n\r\n\t\tfor (freq = to.y / gap - 1, i = 0; i < freq; i++) {\r\n\t\t\tcur = ~~( (i + 1) * gap);\r\n\t\t\tg.moveTo(0, cur).lineTo(to.x, cur);\r\n\t\t}\r\n\r\n\r\n\t\tg.endStroke();\r\n\r\n\t\tstage.addChild(s);\r\n\t}\r\n\r\n\r\n\tprivate static breathObjs: IBreathable[] = [];\r\n\tprivate static breathing: boolean = false;\r\n\tprivate static breathCount: number = 0;\r\n\r\n\tstatic breath(obj: IBreathable, offset: number = 10, revertY ?: boolean = false) {\r\n\t\tif (Util.breathObjs.length === 0) {\r\n\t\t\tUtil.breathing = true;\r\n\t\t\tcreatejs.Ticker.addEventListener('tick', Util.tickBreath);\r\n\t\t}\r\n\r\n\r\n\t\t//\r\n\t\tobj.breath = {\r\n\t\t\tforward: true,\r\n\t\t\ty: obj.y,\r\n\t\t\tmin: obj.y - offset,\r\n\t\t\tmax: obj.y + offset,\r\n\t\t\tremove: -1,\r\n\t\t\trevertY: revertY\r\n\t\t};\r\n\r\n\t\tUtil.breathObjs.push(obj);\r\n\t}\r\n\r\n\tstatic unBreath(obj: IBreathable, revertY?: boolean = false): number {\r\n\t\tlet index = Util.breathObjs.indexOf(obj);\r\n\t\tif (index > -1) {\r\n\t\t\tobj.breath.remove = index;\r\n\t\t\tobj.breath.revertY = revertY;\r\n\t\t}\r\n\r\n\t\treturn index;\r\n\t}\r\n\r\n\tstatic tickBreath(e: createjs.TickerEvent) {\r\n\r\n\r\n\t\tif (Util.breathing) {\r\n\r\n\t\t\tif (Util.breathObjs.length === 0) {\r\n\t\t\t\tUtil.breathing = false;\r\n\t\t\t\tcreatejs.Ticker.removeEventListener('tick', Util.tickBreath);\r\n\t\t\t}\r\n\r\n\t\t\t//Util.breathCount++;\r\n\t\t\t//let step = Math.sin(Util.breathCount * 0.017 * (2 * Math.PI / 360)) * 3;\r\n\t\t\tlet step = 0.5;\r\n\t\t\t//console.log(step);\r\n\r\n\t\t\tfor (let i = 0, l = Util.breathObjs.length; i < l; i++) {\r\n\t\t\t\tlet obj = Util.breathObjs[i];\r\n\r\n\t\t\t\tif (obj.breath.remove === -1) {\r\n\t\t\t\t\tif (obj.breath.forward) {\r\n\t\t\t\t\t\tobj.y += step\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tobj.y -= step;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (obj.y < obj.breath.min || obj.y > obj.breath.max) {\r\n\t\t\t\t\t\tobj.breath.forward = !obj.breath.forward;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tUtil.breathObjs.splice(obj.breath.remove, 1);\r\n\t\t\t\t\tif (obj.breath.revertY)\r\n\t\t\t\t\t\tobj.y = obj.breath.y;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//console.log(obj.y, step);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\t/////\r\n\r\n\r\n\tprivate static time = 0;\r\n\tprivate static fps = 0;\r\n\r\n\tstatic FPS() {\r\n\t\tconsole.log(Util.fps);\r\n\t}\r\n\r\n\r\n\tstatic addImage(conatainer: Container, imgElem: HTMLImageElement, index: number = 0, props?:Object): Bitmap {\r\n\t\tlet bmp: createjs.Bitmap = new createjs.Bitmap(imgElem);\r\n\r\n\t\tif(props){\r\n\t\t\tfor(let prop in props){\r\n\t\t\t\tbmp[prop] = props[prop] ;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tconatainer.addChildAt(bmp, index);\r\n\r\n\t\treturn bmp;\r\n\t}\r\n}\r\n\r\n"
    ]
}