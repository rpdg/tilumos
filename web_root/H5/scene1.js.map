{
    "version": 3,
    "file": "Scene1.js",
    "sourceRoot": "",
    "sources": [
        "/Scene1.ts"
    ],
    "names": [],
    "mappings": "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",
    "sourcesContent": [
        "class Scene1 extends Scene {\r\n\r\n\twand: Bitmap;\r\n\tbox: Bitmap;\r\n\tlight: Bitmap;\r\n\tbg: Bitmap;\r\n\r\n\r\n\tprivate particleSystem: particlejs.ParticleSystem;\r\n\tprivate particleYOffset: number = 150;\r\n\r\n\tprivate tickHandler: Function;\r\n\r\n\tconstructor(app: App) {\r\n\t\tsuper(app);\r\n\r\n\t\tthis.bg = Util.addImage(this.stage, <HTMLImageElement> app.preLoader.getResult('bg-1'), 0, {y: -50});\r\n\r\n\t\tthis.box = Util.addImage(this.stage, <HTMLImageElement> app.preLoader.getResult('box'), 1, {x: 10, y: 550});\r\n\r\n\t\tthis.wand = Util.addImage(this.stage, <HTMLImageElement> app.preLoader.getResult('wand'), 2, {x: 350, y: 80});\r\n\t\tUtil.breath(this.wand, 10);\r\n\r\n\r\n\t\t//\r\n\t\tlet clickTip = new ClickTip();\r\n\t\tclickTip.x = 460;\r\n\t\tclickTip.y = 810;\r\n\t\tthis.stage.addChild(clickTip);\r\n\t\tclickTip.pulsate();\r\n\r\n\t\tclickTip.on('click', function () {\r\n\t\t\tUtil.unBreath(this.wand);\r\n\t\t\tthis.clickBox();\r\n\t\t\tthis.particleSystem.emitFrequency = 100;\r\n\t\t\tthis.particleYOffset = -100;\r\n\t\t}, this, true);\r\n\r\n\r\n\t\tthis.particleSystem = new particlejs.ParticleSystem();\r\n\t\tthis.stage.addChild(this.particleSystem.container);\r\n\t\tthis.particleSystem.importFromJson(\r\n\t\t\t{\r\n\t\t\t\t'bgColor': '#00000',\r\n\t\t\t\t'width': 679,\r\n\t\t\t\t'height': 343,\r\n\t\t\t\t'emitFrequency': 30,\r\n\t\t\t\t'startX': 340,\r\n\t\t\t\t'startXVariance': 169,\r\n\t\t\t\t'startY': 147,\r\n\t\t\t\t'startYVariance': 179,\r\n\t\t\t\t'initialDirection': 348,\r\n\t\t\t\t'initialDirectionVariance': 180,\r\n\t\t\t\t'initialSpeed': 1.2,\r\n\t\t\t\t'initialSpeedVariance': 2.2,\r\n\t\t\t\t'friction': '0',\r\n\t\t\t\t'accelerationSpeed': '0',\r\n\t\t\t\t'accelerationDirection': '0',\r\n\t\t\t\t'startScale': 0.06,\r\n\t\t\t\t'startScaleVariance': 0.33,\r\n\t\t\t\t'finishScale': 0.04,\r\n\t\t\t\t'finishScaleVariance': '0.23',\r\n\t\t\t\t'lifeSpan': 80,\r\n\t\t\t\t'lifeSpanVariance': 100,\r\n\t\t\t\t'startAlpha': 1,\r\n\t\t\t\t'startAlphaVariance': '0',\r\n\t\t\t\t'finishAlpha': 0,\r\n\t\t\t\t'finishAlphaVariance': 0.26,\r\n\t\t\t\t'shapeIdList': [\r\n\t\t\t\t\t'kirakira',\r\n\t\t\t\t\t'star',\r\n\t\t\t\t],\r\n\t\t\t\t'startColor': {\r\n\t\t\t\t\t'hue': 198,\r\n\t\t\t\t\t'hueVariance': 0,\r\n\t\t\t\t\t'saturation': 100,\r\n\t\t\t\t\t'saturationVariance': 89,\r\n\t\t\t\t\t'luminance': 93,\r\n\t\t\t\t\t'luminanceVariance': 68,\r\n\t\t\t\t},\r\n\t\t\t\t'blendMode': false,\r\n\t\t\t\t'alphaCurveType': '0',\r\n\t\t\t\t'VERSION': '0.1.3',\r\n\t\t\t},\r\n\t\t);\r\n\r\n\r\n\t}\r\n\r\n\tclickBox() {\r\n\t\tthis.particleSystem.startYVariance = 0;\r\n\t\tthis.particleYOffset = -50;\r\n\r\n\t\tTween.get(this.wand).to({rotation: -78, y: 900, x: 260}, 1000, createjs.Ease.sineIn).to({\r\n\t\t\trotation: -75,\r\n\t\t\ty: 880,\r\n\t\t\tx: 250,\r\n\t\t}, 300).call(() => {\r\n\r\n\t\t\tTween.removeTweens(this.wand);\r\n\r\n\t\t\tcreatejs.Sound.play('sound_sparkle');\r\n\r\n\t\t\tthis.particleSystem.initialDirection = 0;\r\n\t\t\tthis.particleSystem.initialDirectionVariance = 360;\r\n\t\t\tthis.particleSystem.initialSpeed = 10;\r\n\t\t\tthis.particleSystem.initialSpeedVariance = 0;\r\n\t\t\tthis.particleSystem.lifeSpan = 40;\r\n\t\t\tthis.particleSystem.emitFrequency = 5000;\r\n\t\t\tthis.particleYOffset = -150;\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.particleSystem.emitFrequency = 0;\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.particleSystem.dispose();\r\n\t\t\t\t\tthis.stage.removeChild(this.wand);\r\n\t\t\t\t\tcreatejs.Ticker.off('tick', this.tickHandler);\r\n\r\n\t\t\t\t\tthis.openBox();\r\n\t\t\t\t}, 1200);\r\n\r\n\t\t\t}, 100);\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\r\n\topenBox() {\r\n\r\n\t\tthis.light = Util.addImage(this.stage, <HTMLImageElement> this.app.preLoader.getResult('light'), 2, {y: -50});\r\n\t\tthis.light.alpha = 0;\r\n\r\n\t\tTween.get(this.light).to({alpha: 1}, 3600, createjs.Ease.sineIn).call(() => {\r\n\t\t\tthis.dispose();\r\n\t\t\tnew Scene2(this);\r\n\t\t});\r\n\r\n\t}\r\n\r\n\ttick(e: createjs.TickerEvent) {\r\n\t\t//console.log('emit');\r\n\t\tthis.particleSystem.startX = this.wand.x + 160;\r\n\t\tthis.particleSystem.startY = this.wand.y + this.particleYOffset;\r\n\t\tthis.particleSystem.update();\r\n\t}\r\n\r\n\tdispose() {\r\n\r\n\t\tthis.stage.removeChild(this.box);\r\n\t\tthis.stage.removeChild(this.light);\r\n\t\tthis.stage.removeChild(this.bg);\r\n\t}\r\n}"
    ]
}