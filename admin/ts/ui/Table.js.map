{"version":3,"sources":["/ts/ui/Table.ts"],"names":[],"mappings":"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","file":"Table.js","sourcesContent":["import {AjaxDisplayObject, DisplayObject} from './DisplayOject';\r\nimport {format} from 'ts/util/utils';\r\n\r\nfunction makeTemplate(sets) {\r\n\r\n\tlet tdTmp = [], render, name, i = 0, l = sets.columns ? sets.columns.length : 0;\r\n\tfor (let col; i < l , col = sets.columns[i]; i++) {\r\n\r\n\t\tif (typeof col.render === 'function') {\r\n\t\t\tname = col.src + '_render' + DisplayObject.guid();\r\n\t\t\trender = ':=' + name;\r\n\t\t\tsets.bindOptions.itemRender[name] = col.render;\r\n\t\t}\r\n\t\telse render = '';\r\n\r\n\t\tif (col.cmd) {\r\n\r\n\t\t\tif (col.cmd === 'checkAll') {\r\n\t\t\t\ttdTmp[i] = '<td class=\"text-center\"><input type=\"checkbox\" name=\"chk_' + i + '\" value=\"${' + col.src + render + '}\"></td>';\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ttdTmp[i] = '<td class=\"text-center\"><input type=\"radio\" name=\"chk_' + i + '\" value=\"${' + col.src + render + '}\"></td>';\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.cmd) {\r\n\t\t\t\tthis.cmd = col.cmd;\r\n\t\t\t\tthis.cmdColumnIndex = i;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\r\n\t\t\tlet classAlign = \"text-\" + (col.align ? col.align.toLowerCase() : \"center\");\r\n\r\n\t\t\ttdTmp[i] = '<td class=\"' + classAlign + '\">${' + col.src + render + '}</td>';\r\n\t\t}\r\n\t}\r\n\r\n\t//console.log('<tr>' + tdTmp.join('') + '</tr>');\r\n\tlet trSrc;\r\n\tif (sets.rows && sets.rows.render) {\r\n\t\ttrSrc = sets.rows.src || '___';\r\n\t\tsets.bindOptions.itemRender['__renderTr'] = (val , i, row , attr) => {\r\n\t\t\tlet cn = sets.rows.render(val , i, row, attr) || '' ;\r\n\t\t\tlet sn = ( i % 2 ? 'odd' : 'even');\r\n\t\t\treturn sn + ' ' + cn;\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\ttrSrc = '___';\r\n\t\tsets.bindOptions.itemRender['__renderTr'] = (val , i) => ( i % 2 ? 'odd' : 'even');\r\n\t}\r\n\r\n\treturn '<tr class=\"${' + trSrc + ':=__renderTr}\">' + tdTmp.join('') + '</tr>';\r\n\r\n}\r\n\r\n\r\nfunction makeTbStructor(tb, sets) {\r\n\tlet i = 0, l = sets.columns ? sets.columns.length : 0, colCss = [], th = [];\r\n\tfor (let col; col = sets.columns[i]; i++) {\r\n\t\tif (col.cmd) {\r\n\t\t\tcol.width = col.width || 32;\r\n\r\n\t\t\tif (col.cmd === 'checkAll')\r\n\t\t\t\tcol.text = '<input type=\"checkbox\" name=\"' + col.src + '\" value=\"chk_' + i + '\">';\r\n\t\t\telse\r\n\t\t\t\tcol.text = '<input type=\"hidden\" name=\"' + col.src + '\" value=\"chk_' + i + '\">';\r\n\t\t}\r\n\r\n\t\tcolCss[i] = \"width:\" + (col.width ? col.width + \"px;\" : \"auto; \");\r\n\t\tth[i] = '<th style=\"' + colCss[i] + '\">' + (col.text || 'column_' + i) + '</th>';\r\n\t}\r\n\tlet thead = '<thead><tr>' + th.join('') + '</tr></thead>';\r\n\tlet tfoot = (sets.pagination) ? '<tfoot><tr><td colspan=\"' + (l || '1') + '\"></td></tr></tfoot>' : '';\r\n\r\n\ttb.prepend(thead + '<tbody id=\"' + tb[0].id + '_tbody\"></tbody>' + tfoot);\r\n}\r\n\r\nfunction setupTitleBar(tb, sets) {\r\n\tlet html = `<div class=\"grid-title-bar\">\r\n\t\t${sets.title}\r\n\t</div>`, bar = $(html);\r\n\r\n\tlet btns = ``;\r\n\tif (sets.buttons && sets.buttons.length) {\r\n\t\tfor (let i = 0, l = sets.buttons.length; i < l; i++) {\r\n\t\t\tlet btn = sets.buttons[i];\r\n\t\t\tbtns += `<button id=\"${btn.id}\" class=\"${btn.className}\">${btn.html}</button>`;\r\n\t\t}\r\n\r\n\t\tbar.append(btns);\r\n\t}\r\n\r\n\ttb.before(bar);\r\n}\r\n\r\n\r\nclass Table extends AjaxDisplayObject {\r\n\r\n\ttable: JQuery;\r\n\tthead: JQuery;\r\n\ttbody: JQuery;\r\n\ttfoot?: JQuery;\r\n\ttPager?: JQuery;\r\n\tpageCounter?: JQuery;\r\n\tiptPageGo?: JQuery;\r\n\r\n\tcols: number;\r\n\r\n\tresizable?: boolean;\r\n\r\n\tcmd?: 'checkOne' | 'checkAll';\r\n\tcmdColumnIndex?: number;\r\n\tcmdCheckAll?: JQuery;\r\n\tcmdCheckOne?: JQuery;\r\n\r\n\tpageTemplate?: string;\r\n\tpagination?: Pagination;\r\n\r\n\tprivate pageCount: number;\r\n\r\n\tconstructor(jq: JQuery, cfg: any) {\r\n\r\n\t\tcfg = $.extend({\r\n\t\t\tbindOptions: {\r\n\t\t\t\titemRender: {}\r\n\t\t\t},\r\n\t\t\tresizable: true\r\n\t\t}, cfg);\r\n\r\n\r\n\t\tsuper(jq, cfg);\r\n\r\n\t}\r\n\r\n\tinit(jq: JQuery, cfg: any) {\r\n\r\n\t\tsuper.init(jq, cfg);\r\n\r\n\t\tlet isTable = jq[0].tagName === 'TABLE';\r\n\r\n\t\tif (isTable) {\r\n\t\t\tjq.addClass(\"grid\");\r\n\t\t\tthis.table = jq;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.table = $('<table id=\"' + jq[0].id + '_table\" class=\"grid\"></table>');\r\n\t\t}\r\n\r\n\r\n\t\tthis.resizable = cfg.resizable;\r\n\r\n\t\tthis._bindOption.template = makeTemplate.call(this, cfg);\r\n\r\n\r\n\t\tmakeTbStructor(this.table, cfg);\r\n\r\n\t\tif (cfg.titleBar) setupTitleBar(this.table, cfg.titleBar);\r\n\r\n\r\n\t\tif (!isTable) jq.append(this.table);\r\n\r\n\t\tthis.thead = this.table.find(\"thead\");\r\n\t\tthis.cols = cfg.columns.length;\r\n\t\tthis.tbody = this.table.find(\"tbody\");\r\n\t\tthis.container = this.tbody;\r\n\r\n\r\n\t\tthis.tbody.on('click', 'tr', (evt) => {\r\n\t\t\t//log($(evt.currentTarget).parents(\"tr\")[0].rowIndex);\r\n\t\t\tthis.selectHandler(evt);\r\n\t\t});\r\n\r\n\r\n\t\tif (this.resizable) {\r\n\t\t\tthis.table.resizableColumns({//refreshHeaders\r\n\t\t\t\tminWidth: 1\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\tif (cfg.pagination) {\r\n\r\n\t\t\tlet that = this;\r\n\t\t\tconst pageDefaults = {\r\n\t\t\t\tappend_number_input : true ,\r\n\t\t\t\tlink_to: \"javascript:void(0)\",\r\n\t\t\t\tnum_edge_entries: 1,\r\n\t\t\t\tnum_display_entries: 5,\r\n\t\t\t\titems_per_page: 10,\r\n\t\t\t\tprev_text: \"上页\",\r\n\t\t\t\tnext_text: \"下页\",\r\n\t\t\t\tload_first_page: false,\r\n\t\t\t\tcallback: (pageIndex, paginationContainer) => {\r\n\t\t\t\t\tthat._param.pageNo = pageIndex + 1;\r\n\t\t\t\t\tthat.update(this._param);\r\n\t\t\t\t\t//that.iptPageGo.val(that._param.pageNo);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t},\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t\tshowCount: true,\r\n\t\t\t\tcustomizable: true,\r\n\t\t\t};\r\n\r\n\r\n\t\t\tif (cfg.pagination.pageSize)\r\n\t\t\t\tcfg.pagination.items_per_page = cfg.pagination.pageSize;\r\n\r\n\t\t\tcfg.pagination = $.extend(pageDefaults, cfg.pagination);\r\n\r\n\r\n\t\t\tthis.pagination = cfg.pagination;\r\n\r\n\t\t\tthis._param = $.extend({\r\n\t\t\t\tpageNo: 1,\r\n\t\t\t\tpageSize: cfg.pagination.pageSize\r\n\t\t\t}, cfg._params);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tcreatedHandler(data: any) {\r\n\t\tif (this.cmd === 'checkAll') {\r\n\t\t\tthis.cmdCheckAll = this.thead.find('th:eq(' + this.cmdColumnIndex + ')').find('input');\r\n\t\t\tthis.cmdCheckAll.syncCheckBoxGroup('td:eq(' + this.cmdColumnIndex + ')>:checkbox:enabled', this.tbody.find('tr'));\r\n\t\t}\r\n\t\telse if (this.cmd === 'checkOne') {\r\n\t\t\tthis.cmdCheckOne = this.thead.find('th:eq(' + this.cmdColumnIndex + ')').find('input:hidden');\r\n\t\t}\r\n\r\n\r\n\t\tthis._created = true;\r\n\r\n\t\tif (this._createdPromise) {\r\n\t\t\tthis._createdPromise.resolve();\r\n\t\t}\r\n\t\tif (this.onCreate) this.onCreate(data);\r\n\t}\r\n\r\n\tbindHandler(json) {\r\n\t\tif (this.pagination) {\r\n\t\t\tthis.makePager(~~json.totalRecord);\r\n\t\t}\r\n\t\tif (typeof this.onBind === 'function') this.onBind(json);\r\n\t}\r\n\r\n\tupdateHandler(json) {\r\n\t\tif (this.cmdCheckAll) {\r\n\t\t\tthis.cmdCheckAll.prop(\"checked\", false);\r\n\t\t\tthis.cmdCheckAll.syncCheckBoxGroup('td:eq(' + this.cmdColumnIndex + ')>:checkbox:enabled', this.tbody.find('tr'));\r\n\t\t}\r\n\r\n\r\n\t\tif ($.isFunction(this.onUpdate))\r\n\t\t\tthis.onUpdate(json);\r\n\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t//分页\r\n\tmakePager(rowCount) {\r\n\r\n\t\tlet that = this;\r\n\r\n\t\tlet pageCount = Math.ceil(rowCount / this._param.pageSize);\r\n\t\tif (pageCount === 0) pageCount = 1;\r\n\r\n\t\tif (this._param.pageNo > 1 && pageCount < this.pageCount) {\r\n\t\t\tthis._param.pageNo -= (this.pageCount - pageCount);\r\n\t\t\treturn setTimeout(() => this.update(), 10);\r\n\t\t}\r\n\r\n\t\tthis.pageCount = pageCount;\r\n\t\tlet pageNum = this._param.pageNo;\r\n\r\n\t\tif (this.tPager) {\r\n\t\t\tthis.pagination.current_page = this._param.pageNo - 1;\r\n\t\t\tthis.tPager.pagination(rowCount, this.pagination);\r\n\r\n\t\t\tif (this.pagination.showCount) {\r\n\t\t\t\t//this.pageCounter.html(format.json(this.pageTemplate, {rowCount, pageNum, pageCount}));\r\n\r\n\t\t\t\tthis.pageCounter.find('.bt').text(rowCount);\r\n\t\t\t\t//this.iptPageGo.val(pageNum).data('total' , pageCount);\r\n\t\t\t\tthis.pageCounter.find('.bc').text(pageCount);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\r\n\t\t\tthis.tfoot = this.table.find(\"tfoot td:eq(0)\");\r\n\t\t\tthis.tPager = $('<div class=\"pagination_container\"></div>').appendTo(this.tfoot);\r\n\t\t\tthis.tPager.pagination(rowCount, this.pagination);\r\n\r\n\r\n\t\t\tthis.iptPageGo = this.tfoot.find('.iptPageGo');\r\n\t\t\tthis.pagination.append_number_input = this.iptPageGo ;\r\n\r\n\t\t\tthis.pageCounter = $('<span></span>');\r\n\t\t\tthis.tPager.after(this.pageCounter);\r\n\r\n\t\t\tif (this.pagination.showCount) {\r\n\r\n\t\t\t\tif (typeof this.pagination.showCount === \"string\")\r\n\t\t\t\t\tthis.pageTemplate = this.pagination.showCount as string;\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.pageTemplate = '共<span class=\"bt\">${rowCount}</span>条记录 , 第<span class=\"bf\">${pageNum}</span> / <span class=\"bc\">${pageCount}</span>页';\r\n\r\n\t\t\t\tthis.pageCounter.html(format.json(this.pageTemplate, {rowCount, pageNum, pageCount}));\r\n\r\n\t\t\t\tlet bf = this.pageCounter.find('.bf');\r\n\t\t\t\tthis.iptPageGo.val(pageNum);//.data('total' , pageCount);\r\n\t\t\t\tbf.replaceWith(this.iptPageGo);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.pagination.customizable) {\r\n\r\n\t\t\t\tif (typeof this.pagination.customizable != 'object')\r\n\t\t\t\t\tthis.pagination.customizable = [10, 20, 50];\r\n\r\n\t\t\t\tlet ps = this.pagination.customizable as Array, arq = [];\r\n\r\n\t\t\t\tfor (let q = 0, ql = ps.length; q < ql; q++)\r\n\t\t\t\t\tarq[q] = '<option value=\"' + ps[q] + '\" ' + (ps[q] == this.pagination.pageSize ? 'selected' : '') + '>' + ps[q] + '</option>';\r\n\r\n\t\t\t\tlet pageSelector = $('<select>' + arq.join('') + '</select>');\r\n\t\t\t\tthis.pageCounter.after($('<label class=\"pageSelectorLabel\">每页</label>').append(pageSelector).append('条'));\r\n\r\n\t\t\t\t//on change event\r\n\t\t\t\tpageSelector.on('change.opg', function () {\r\n\r\n\t\t\t\t\tthat.pagination.items_per_page = that._param.pageSize = ~~(this.options[this.selectedIndex] as HTMLOptionElement).value;\r\n\t\t\t\t\tthat._param.pageNo = 1;\r\n\t\t\t\t\tthat.update(that._param);\r\n\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n\t//@return object array\r\n\tgetCheckData() {\r\n\t\tif (this.cmd) {\r\n\t\t\tlet key = (this.cmdCheckAll || this.cmdCheckOne).val(),\r\n\t\t\t\tchkBoxes = this.tbody.find(\"input[name='\" + key + \"']\"),\r\n\t\t\t\trev = this.cmdCheckAll ? [] : null;\r\n\r\n\t\t\tfor (let i = 0, l = chkBoxes.length; i < l; i++) {\r\n\t\t\t\tif ((chkBoxes[i] as HTMLInputElement).checked) {\r\n\t\t\t\t\tif (this.cmdCheckOne)\r\n\t\t\t\t\t\treturn this.data[i];\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\trev.push(this.data[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn rev;\r\n\t\t}\r\n\t\telse\r\n\t\t\treturn null;\r\n\t}\r\n\r\n\t//@return string value array\r\n\tgetCheckedValue() {\r\n\t\tif (this.cmd) {\r\n\t\t\tlet key = (this.cmdCheckAll || this.cmdCheckOne).val(),\r\n\t\t\t\tchkBoxes = this.tbody.find(\"input[name='\" + key + \"']:checked\");\r\n\t\t\tlet rev;\r\n\r\n\t\t\tif (this.cmdCheckAll) {\r\n\t\t\t\trev = [];\r\n\t\t\t\tchkBoxes.each((i, elem: HTMLInputElement) => {\r\n\t\t\t\t\trev.push(elem.value);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\trev = chkBoxes.length ? chkBoxes.val() : null;\r\n\t\t\t}\r\n\r\n\t\t\treturn rev;\r\n\t\t}\r\n\t\telse\r\n\t\t\treturn null;\r\n\t}\r\n}\r\n\r\n\r\nexport default Table;\r\n"]}